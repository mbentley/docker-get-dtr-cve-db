mbentley/get-dtr-cve-db
=======================

## Build (Optional)
**Note**: This utilizes a multi-stage build and requires Docker 17.05 or newer.  The Docker image is also available from [Docker Hub](https://hub.docker.com/r/mbentley/get-dtr-cve-db/)

```
docker build -t mbentley/get-dtr-cve-db:latest .
```

## Run

```
docker run -it --rm \
  -v ${HOME}/Downloads:/data \
  -e DATABASE_SCHEMA=2 \
  -e LICENSE_FILE="/data/docker_subscription.lic" \
  -e DATABASE_OUTPUT="/data/db-latest.tar" \
  -e DEBUG=false \
  mbentley/get-dtr-cve-db:latest
```

### Runtime environment variables overrides
**Note**: these are the values **inside** the container.  You must pass the actual parent directories as one or more volumes.
  * `CLOBBER_FILE` - defaults to `false`; set to `true` to overwrite an existing file of the same database name
  * `DATABASE_OUTPUT` - defaults to `/data/db-latest.tar`
  * `DATABASE_SCHEMA` - defaults to `2`
    * `1` - DTR 2.2.5 or lower
    * `2` - DTR 2.2.6 or higher
  * `DEBUG` - defaults to `false`
  * `LICENSE_FILE` - defaults to `/data/docker_subscription.lic`
